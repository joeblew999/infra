{
  "binaries": [
    {
      "name": "caddy",
      "version": "2.10.1",
      "source": "go-build",
      "path": "./cmd/caddy"
    }
  ],
  "process": {
    "command": "${dep.caddy}",
    "args": [],
    "env": {
      "CADDY_HOST": "0.0.0.0"
    },
    "compose": {
      "is_daemon": false,
      "availability": {
        "restart": "always"
      },
      "depends_on": {
        "pocketbase": {
          "condition": "process_healthy"
        }
      },
      "readiness_probe": {
        "exec": {
          "command": "curl -f http://127.0.0.1:2015/api/health"
        },
        "initial_delay_seconds": 5,
        "period_seconds": 5,
        "timeout_seconds": 3,
        "success_threshold": 1,
        "failure_threshold": 5
      }
    }
  },
  "ports": {
    "http": {"port": 2015, "protocol": "http"}
  },
  "config": {
    "target": "http://127.0.0.1:8090"
  },
  "scalable": false,
  "scale_strategy": "infra"
}
